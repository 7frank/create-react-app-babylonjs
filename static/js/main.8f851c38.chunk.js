(this["webpackJsonpcreate-react-app-babylonjs"]=this["webpackJsonpcreate-react-app-babylonjs"]||[]).push([[0],{436:function(e,a,t){e.exports=t(454)},444:function(e,a,t){},445:function(e,a,t){},454:function(e,a,t){"use strict";t.r(a);var n=t(4),o=t.n(n),r=t(169),c=t.n(r),l=t(186),i=(t(444),t(312)),s=t(132),m=t(125),d=t(126),p=t(128),h=t(129),u=t(95),g=t(68),b=t(51),v=t(29),E=t.n(v),f=t(108),w={showSidebar:!0},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TOGGLE_SIDEBAR":return Object(f.a)({},e,{showSidebar:!e.showSidebar});default:return e}},C=(t(445),function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){return Object(m.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=E()({active:!this.props.showSidebar}),a=E()({active:!this.props.showSidebar},"navbar-btn");return o.a.createElement("div",null,o.a.createElement("div",{className:"wrapper"},o.a.createElement("nav",{id:"sidebar",className:e},o.a.createElement("div",{className:"sidebar-header"},o.a.createElement("h3",{className:"sidebar-h3"},"React + BabylonJS")),o.a.createElement("ul",{className:"list-unstyled components"},o.a.createElement("h3",{className:"sidebar-h3"},"Examples"),o.a.createElement(g.c,null,o.a.createElement(u.a,{exact:!0,to:"".concat("/create-react-app-babylonjs","/"),activeClassName:"active",className:"nav-link"},o.a.createElement(b.h,{icon:b.e})," Home")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/defaultPlayground"),activeClassName:"active",className:"nav-link"},o.a.createElement(b.h,{icon:b.g})," Default Playground")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/withProps"),activeClassName:"active",className:"nav-link"},o.a.createElement(b.h,{icon:b.g})," Props")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/dragNdrop"),activeClassName:"active",className:"nav-link"},o.a.createElement(b.h,{icon:b.g})," Drag'n'drop")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/withModel"),activeClassName:"active",className:"nav-link"},o.a.createElement(b.h,{icon:b.g})," Model")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/withVR"),activeClassName:"active",className:"nav-link"},o.a.createElement(b.h,{icon:b.g})," VR")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/with2DUI"),activeClassName:"active",className:"nav-link"},o.a.createElement(b.h,{icon:b.g})," Panel (+2D UI)")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/withSkybox"),activeClassName:"active",className:"nav-link"},o.a.createElement(b.h,{icon:b.g})," Skybox (+3D panel)")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/nonDeclarative"),activeClassName:"active",className:"nav-link"},o.a.createElement(b.h,{icon:b.g})," Non-Declarative"))),o.a.createElement("ul",{className:"list-unstyled CTAs"},o.a.createElement("li",null,o.a.createElement("a",{href:"https://github.com/brianzinn/create-react-app-babylonjs",className:"download"},"this project ",o.a.createElement(b.h,{icon:b.f}))),o.a.createElement("li",null,o.a.createElement("a",{href:"https://github.com/brianzinn/react-babylonjs",className:"download"},"react-babylonjs ",o.a.createElement(b.h,{icon:b.f}))))),o.a.createElement("div",{id:"content"},o.a.createElement(g.d,{color:"dark",className:"navbar-dark",expand:!0},o.a.createElement("button",{type:"button",id:"sidebarCollapse",className:a,onClick:this.props.onToggleSidebar},o.a.createElement("span",null),o.a.createElement("span",null),o.a.createElement("span",null)),o.a.createElement(g.b,{className:"ml-auto",navbar:!0},o.a.createElement(g.c,null,o.a.createElement(u.a,{exact:!0,to:"".concat("/create-react-app-babylonjs","/"),activeClassName:"active",className:"nav-link"},"Home")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/defaultPlayground"),activeClassName:"active",className:"nav-link"},"Default Playground")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/withProps"),activeClassName:"active",className:"nav-link"},"Props")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/dragNdrop"),activeClassName:"active",className:"nav-link"},"Drag 'n' Drop")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/withModel"),activeClassName:"active",className:"nav-link"},"Model")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/withVR"),activeClassName:"active",className:"nav-link"},"VR")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/withSkybox"),activeClassName:"active",className:"nav-link"},"Skybox (+3D panel)")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/with2DUI"),activeClassName:"active",className:"nav-link"},"UI (+2D panel)")),o.a.createElement(g.c,null,o.a.createElement(u.a,{to:"".concat("/create-react-app-babylonjs","/nonDeclarative"),activeClassName:"active",className:"nav-link"},"Non-Declarative")))),o.a.createElement("div",{style:{marginTop:"-35px"}},this.props.children))))}}]),t}(n.Component)),k=Object(s.f)(Object(l.c)((function(e){return e.layout}),(function(e){return{onToggleSidebar:function(){e({type:"TOGGLE_SIDEBAR"})}}}))(C)),N=t(54),y=t(20),M=t(146),A=function(){return o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement(N.b,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"sample-canvas"},o.a.createElement(N.f,null,o.a.createElement("freeCamera",{name:"camera1",position:new y.A(0,5,-10),setTarget:[y.A.Zero()]}),o.a.createElement("hemisphericLight",{name:"light1",intensity:.7,direction:y.A.Up()}),o.a.createElement("sphere",{name:"sphere1",diameter:2,segments:16,position:new y.A(0,1,0)}),o.a.createElement("ground",{name:"ground1",width:6,height:6,subdivisions:2})))),o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement("pre",null,o.a.createElement(M.PrismCode,{className:"language-jsx"},'<Engine>\n  <Scene id="sample-canvas">\n    <freeCamera name="camera1"\n      position={new Vector3(0, 5, -10)} target={Vector3.Zero()} />\n    <hemisphericLight name="light1"\n      intensity={0.7} direction={Vector3.Up()} />\n    <sphere name="sphere1"\n      diameter={2} segments={16} position={new Vector3(0, 1, 0)} />\n    <ground name="ground1"\n      width={6} height={6} subdivisions={2} />\n  </Scene>\n</Engine>'))))},O=function(e){return Math.max(Math.abs(e.x),Math.abs(e.z))<=490};var T=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-12"},o.a.createElement(N.b,{antialias:!0,engineOptions:{preserveDrawingBuffer:!0,stencil:!0},canvasId:"sample-canvas"},o.a.createElement(N.f,{clearColor:new y.g(0,0,0)},o.a.createElement("pointLight",{name:"omni",position:new y.A(0,50,0)}),o.a.createElement("arcRotateCamera",{name:"camera",alpha:0,beta:0,radius:10,target:y.A.Zero(),setPosition:[new y.A(20,200,400)],lowerBetaLimit:.1,upperBetaLimit:Math.PI/2*.99,lowerRadiusLimit:150}),o.a.createElement("ground",{name:"ground",width:1e3,height:1e3,subdivisions:1},o.a.createElement("standardMaterial",{name:"groundMat",specularColor:y.g.Black()})),o.a.createElement("sphere",{name:"red",diameter:20,segments:32,position:new y.A(-100,10,0)},o.a.createElement("standardMaterial",{name:"redMat",diffuseColor:new y.g(.4,.4,.4),specularColor:new y.g(.4,.4,.4),emissiveColor:y.g.Red()}),o.a.createElement("pointerDragBehavior",{dragPlaneNormal:new y.A(0,1,0),validateDrag:O})),o.a.createElement("box",{name:"green",size:20,position:new y.A(0,11,-100)},o.a.createElement("standardMaterial",{name:"greenMat",diffuseColor:new y.g(.4,.4,.4),specularColor:new y.g(.4,.4,.4),emissiveColor:y.g.Green()}),o.a.createElement("pointerDragBehavior",{dragPlaneNormal:new y.A(0,1,0),validateDrag:O})),o.a.createElement("box",{name:"blue",size:20,position:new y.A(100,11,0)},o.a.createElement("standardMaterial",{name:"greenMat",diffuseColor:new y.g(.4,.4,.4),specularColor:new y.g(.4,.4,.4),emissiveColor:y.g.Blue()}),o.a.createElement("pointerDragBehavior",{dragPlaneNormal:new y.A(0,1,0),validateDrag:O})),o.a.createElement("torus",{name:"torus",diameter:30,thickness:10,tesselation:32,position:new y.A(0,10,100)},o.a.createElement("standardMaterial",{name:"torusMat",diffuseColor:new y.g(.4,.4,.4),specularColor:new y.g(.4,.4,.4),emissiveColor:y.g.Purple()}),o.a.createElement("pointerDragBehavior",{dragPlaneNormal:new y.A(0,1,0),validateDrag:O})))))))},j=t(412),P=t.n(j),S={clockwise:!0,lightsDim:!1},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"TOGGLE_ROTATION":return Object(f.a)({},e,{clockwise:a.clockwise});case"TOGGLE_LIGHTS":return Object(f.a)({},e,{lightsDim:!a.full});default:return e}},L=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){return Object(m.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this.scene.onBeforeRenderObservable.remove(this.handler)}},{key:"render",value:function(){var e=this;return o.a.createElement(N.c,Object.assign({},this.props,{onParented:function(a,t,n){e.scene=a,e.handler=a.onBeforeRenderObservable.add((function(){switch(e.props.axis){case y.e.X:e.rotationProperty="x";break;case y.e.Z:e.rotationProperty="z";break;default:e.rotationProperty="y"}var a=t.getDeltaTime();n.hostInstance.rotation[e.rotationProperty]+=e.props.rpm/60*Math.PI*2*(a/1e3)}))}}))}}]),t}(n.Component);L.defaultProps={rpm:1,axis:y.e.Y};var R=Object(N.i)(L),D=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){var e;Object(m.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=a.call.apply(a,[this].concat(o))).handleClockwiseChange=function(a){e.props.onToggleRotation(a)},e.handleDimmerChange=function(a){e.props.onToggleLights(a)},e}return Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-3 col-lg-3 align-top"},o.a.createElement("label",{htmlFor:"dimmer-switch"},o.a.createElement("span",{style:{padding:"5px"}},"Lights:"),o.a.createElement(P.a,{onChange:this.handleDimmerChange,checked:!this.props.lightsDim,checkedIcon:o.a.createElement("div",{style:{paddingLeft:"2px",color:"white"}},"full"),uncheckedIcon:o.a.createElement("div",{style:{paddingLeft:"2px",color:"white"}},"dim"),className:"react-switch",id:"dimmer-switch"}))),o.a.createElement("div",{className:"col-xs-3 col-lg-3 align-top"},o.a.createElement("label",{htmlFor:"rotation-switch"},o.a.createElement("span",{className:"align-top",style:{padding:"5px"}},"Clockwise:"),o.a.createElement(P.a,{onChange:this.handleClockwiseChange,checked:this.props.clockwise,className:"react-switch",id:"rotation-switch"}))),o.a.createElement("div",{className:"col-xs-6"},o.a.createElement("span",{className:"text-muted"},"[",o.a.createElement("strong",null,"props")," are persisted in this example when you return on same visit (or HMR))]"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement(N.b,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"sample-canvas"},o.a.createElement(N.f,null,o.a.createElement("freeCamera",{name:"camera1",position:new y.A(0,5,-12),setTarget:{target:new y.A(0,1,0)}}),o.a.createElement("hemisphericLight",{name:"light1",intensity:this.props.lightsDim?.3:.7,direction:y.A.Up()}),o.a.createElement("box",{name:"box",size:4,position:new y.A(0,1,0)},o.a.createElement(R,{rpm:this.props.clockwise?12:-12,axis:y.e.Y}),o.a.createElement("standardMaterial",{name:"mat1",diffuseColor:y.g.Yellow(),specularColor:y.g.Black()}))))),o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement("pre",null,o.a.createElement(M.PrismCode,{className:"language-jsx"},' <Scene id="sample-canvas">\n  <freeCamera name="camera1"\n    position={new Vector3(0, 5, -10)} target={Vector3.Zero()} />\n  <hemisphericLight name="light1" direction={Vector3.Up()}\n    intensity={this.props.lightsDim ? 0.3 : 0.7} />\n  <box name="box" size={4} position={new Vector3(0, 1, 0)}>\n    <standardMaterial name="yellow-mat"\n      diffuseColor={Color3.Yellow()} specularColor={Color3.Black()} />\n    <RotateMeshBehavior rpm={this.props.clockwise ? 12 : -12 } axis={Axis.Y} />\n  </box>\n</Scene>')))))}}]),t}(n.Component),B=Object(l.c)((function(e){return e.withProps}),(function(e){return{onToggleLights:function(a){e(function(e){return{type:"TOGGLE_LIGHTS",full:e}}(a))},onToggleRotation:function(a){e(function(e){return{type:"TOGGLE_ROTATION",clockwise:e}}(a))}}}))(D),F=t(122),_=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){var e;return Object(m.a)(this,t),(e=a.call(this)).state={loadProgress:0},e}return Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement(N.e,{scaleToDimension:this.props.scaleTo,onLoadProgress:function(a){var t=a.lengthComputable?a.loaded/a.total:a.loaded/(.085*e.props.estimatedFileSize);e.setState({loadProgress:t})},onModelLoaded:function(a){e.setState({loadProgress:1}),e.props.onModelLoaded&&e.props.onModelLoaded(a,e.props.sceneContext)},position:this.props.center,rootUrl:this.props.rootUrl,sceneFilename:this.props.sceneFilename,pluginExtension:this.props.fileExtension,rotation:this.props.modelRotation}),this.state.loadProgress<1&&o.a.createElement(N.d,{rotation:this.props.progressRotation,position:this.props.center},o.a.createElement(N.a,{key:"progress",name:"boxProgress",height:this.props.scaleTo/15,width:this.props.scaleTo,depth:this.props.scaleTo/30,scaling:new y.A(this.state.loadProgress,1,1),position:new y.A(this.props.scaleTo/2,0,this.props.scaleTo/60),setPivotMatrix:[y.q.Translation(-this.props.scaleTo,0,0)],setPreTransformMatrix:[y.q.Translation(-this.props.scaleTo/2,0,0)]},o.a.createElement(N.h,{diffuseColor:this.props.progressBarColor,specularColor:y.g.Black()})),o.a.createElement(N.a,{key:"back",name:"boxBack",height:this.props.scaleTo/15,width:this.props.scaleTo,depth:this.props.scaleTo/30,position:new y.A(0,0,this.props.scaleTo/-60)})))}}]),t}(n.Component),G=Object(N.j)(_),V=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){var e;return Object(m.a)(this,t),(e=a.call(this)).state={avocadoYPos:-1.5,avocadoScaling:3},e.moveAvocadoUp=e.moveAvocadoUp.bind(Object(F.a)(e)),e.moveAvocadoDown=e.moveAvocadoDown.bind(Object(F.a)(e)),e.increaseAvocadoSize=e.increaseAvocadoSize.bind(Object(F.a)(e)),e.decreaseAvocadoSize=e.decreaseAvocadoSize.bind(Object(F.a)(e)),e.onModelLoaded=e.onModelLoaded.bind(Object(F.a)(e)),e}return Object(d.a)(t,[{key:"moveAvocadoDown",value:function(){this.setState((function(e){return Object(f.a)({},e,{avocadoYPos:e.avocadoYPos-.5})}))}},{key:"moveAvocadoUp",value:function(){this.setState((function(e){return Object(f.a)({},e,{avocadoYPos:e.avocadoYPos+.5})}))}},{key:"increaseAvocadoSize",value:function(){this.setState((function(e){return Object(f.a)({},e,{avocadoScaling:e.avocadoScaling+.1})}))}},{key:"decreaseAvocadoSize",value:function(){this.setState((function(e){return Object(f.a)({},e,{avocadoScaling:e.avocadoScaling-.1})}))}},{key:"onModelLoaded",value:function(e,a){var t=e.meshes[1];t.actionManager=new y.b(a.scene),t.actionManager.registerAction(new y.x(y.b.OnPointerOverTrigger,t.material,"wireframe",!0)),t.actionManager.registerAction(new y.x(y.b.OnPointerOutTrigger,t.material,"wireframe",!1))}},{key:"render",value:function(){var e="https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/";return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-3 col-lg-3 align-top"},"'pointer over' boombox to see mesh"),o.a.createElement("div",{className:"col-xs-3 col-lg-3 align-top"},"Move Avocado:",o.a.createElement(g.a,{onClick:this.moveAvocadoUp},o.a.createElement(b.h,{icon:b.d})),"\xa0\xa0",o.a.createElement(g.a,{onClick:this.moveAvocadoDown},o.a.createElement(b.h,{icon:b.a})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement(N.b,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"sample-canvas"},o.a.createElement(N.f,null,o.a.createElement("arcRotateCamera",{name:"camera1",alpha:Math.PI/2,beta:Math.PI/2,radius:9,target:y.A.Zero(),minZ:.001}),o.a.createElement("hemisphericLight",{name:"light1",intensity:.7,direction:y.A.Up()}),o.a.createElement(G,{rootUrl:"".concat(e,"BoomBox/glTF/"),sceneFilename:"BoomBox.gltf",scaleTo:3,progressBarColor:y.g.FromInts(255,165,0),center:new y.A(2.5,0,0),onModelLoaded:this.onModelLoaded}),o.a.createElement(G,{rootUrl:"".concat(e,"Avocado/glTF/"),sceneFilename:"Avocado.gltf",scaleTo:this.state.avocadoScaling,progressBarColor:y.g.FromInts(255,165,0),center:new y.A(-2.5,this.state.avocadoYPos,0)})))),o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement("pre",null,o.a.createElement(M.PrismCode,{className:"language-jsx"},'<Scene id="sample-canvas">\n  <arcRotateCamera name="camera1"\n    alpha={Math.PI / -2} beta={Math.PI / 2}\n    radius={0.05} target={Vector3.Zero()} minZ={0.001} />\n  <hemisphericLight name="light1" intensity={0.7}\n    direction={Vector3.Up()} />\n  <Model sceneFilename="BoomBox.gltf"\n    rootUrl = {`${baseUrl}BoomBox/glTF/`}\n    position = { new Vector3(0.02, 0, 0) }\n  />\n  <Model sceneFilename="Avocado.gltf"\n    rootUrl = {`${baseUrl}Avocado/glTF/`}\n    position = { new Vector3(-0.02, this.state.avocadoYPos, 0) }\n    scaling={new Vector3(this.state.avocadoScaling,\n      this.state.avocadoScaling, this.state.avocadoScaling)}\n  />\n</Scene>')))))}}]),t}(n.Component),z=Object(N.i)(V),H=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){var e;return Object(m.a)(this,t),(e=a.call(this)).state={modelRotationY:Math.PI},e.spinModelClockwise=e.spinModelClockwise.bind(Object(F.a)(e)),e.spinModelCounterClockwise=e.spinModelCounterClockwise.bind(Object(F.a)(e)),e.onMeshPicked=e.onMeshPicked.bind(Object(F.a)(e)),e}return Object(d.a)(t,[{key:"spinModelClockwise",value:function(){this.setState((function(e){return Object(f.a)({},e,{modelRotationY:e.modelRotationY+.1})}))}},{key:"spinModelCounterClockwise",value:function(){this.setState((function(e){return Object(f.a)({},e,{modelRotationY:e.modelRotationY-.1})}))}},{key:"onMeshPicked",value:function(e){switch(e.name){case"clockwise":this.spinModelCounterClockwise();break;case"counterClockwise":this.spinModelClockwise();break;default:console.log("not handling mesh pick ".concat(e.name))}}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-lg-12 align-top"},"Spin Ghettoblaster:",o.a.createElement(g.a,{onClick:this.spinModelClockwise},o.a.createElement(b.h,{icon:b.b}))," (or click yellow box) \xa0\xa0",o.a.createElement(g.a,{onClick:this.spinModelCounterClockwise},o.a.createElement(b.h,{icon:b.c}))," (or click orange box)")),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement(N.b,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"sample-canvas"},o.a.createElement(N.f,{onMeshPicked:this.onMeshPicked},o.a.createElement("arcRotateCamera",{name:"arc",target:new y.A(0,1,0),alpha:-Math.PI/2,beta:.5+Math.PI/4,radius:2,minZ:.001,wheelPrecision:50}),o.a.createElement("directionalLight",{name:"dl",direction:new y.A(0,-.5,.5),position:new y.A(0,2,.5)},o.a.createElement("shadowGenerator",{mapSize:1024,useBlurExponentialShadowMap:!0,blurKernel:32,shadowCasters:["counterClockwise","clockwise","BoomBox"]})),o.a.createElement("icoSphere",{name:"counterClockwise",position:new y.A(-.5,1,0),radius:.2,flat:!0,subdivisions:1},o.a.createElement("standardMaterial",{diffuseColor:y.g.Yellow(),specularColor:y.g.Black()}),o.a.createElement(R,{rpm:4,axis:y.e.Y})),o.a.createElement(G,{rootUrl:"".concat("https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/","BoomBox/glTF/"),sceneFilename:"BoomBox.gltf",scaleTo:.4,progressBarColor:y.g.FromInts(255,165,0),center:new y.A(0,1,0),modelRotation:new y.A(0,this.state.modelRotationY,0)}),o.a.createElement("icoSphere",{name:"clockwise",position:new y.A(.5,1,0),radius:.2,flat:!0,subdivisions:1},o.a.createElement("standardMaterial",{diffuseColor:y.g.FromInts(255,165,0),specularColor:y.g.Black()}),o.a.createElement(R,{rpm:4,axis:y.e.Y})),o.a.createElement("vrExperienceHelper",{webVROptions:{createDeviceOrientationCamera:!1},teleportEnvironmentGround:!0,enableInteractions:!0}),o.a.createElement("environmentHelper",{options:{enableGroundShadow:!0,groundYBias:1},mainColor:y.g.FromHexString("#74b9ff")})))),o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement("pre",null,o.a.createElement(M.PrismCode,{className:"language-jsx"},'<Scene id="sample-canvas" onMeshPicked={(mesh, scene) => {...}}>\n  <arcRotateCamera />\n  <directionalLight name="dl" direction={new Vector3(0, -0.5, 0.5)} position = {new Vector3(0, 2, 0.5)}>\n    <shadowGenerator mapSize={1024} useBlurExponentialShadowMap={true} blurKernel={32}\n      shadowCasters={["counterClockwise", "clockwise", "BoomBox"]}\n    />\n  </directionalLight>\n  <icoSphere name="counterClockwise" radius={0.2} flat={true} subdivisions={1}>\n    <standardMaterial diffuseColor={Color3.Yellow()} specularColor={Color3.Black()}/>\n  </icoSphere>\n  <Model rootUrl = {\'/assets/BoomBox/glTF/\'}\n    sceneFilename=\'BoomBox.gltf\' />\n  <vrExperience createDeviceOrientationCamera={false} teleportEnvironmentGround={true} />\n  <environmentHelper enableGroundShadow={true} groundYBias={1} mainColor={Color3.FromHexString("#74b9ff")} />\n</Scene>')))))}}]),t}(n.Component),U=t(435),Y=0,Z=[{name:"sunny day",texture:"".concat("/create-react-app-babylonjs","/textures/TropicalSunnyDay")},{name:"specular HDR",texture:"".concat("/create-react-app-babylonjs","/textures/SpecularHDR.dds")}];var W=function(){var e=Object(n.useState)(0),a=Object(U.a)(e,2),t=a[0],r=a[1];return Y=t,o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-6 align-top"},"Change Skybox (or click a holographic button in scene):\xa0",o.a.createElement(g.a,{onClick:function(){return r(t+1)}},o.a.createElement(b.h,{icon:b.b})),"\xa0\xa0",o.a.createElement(g.a,{onClick:function(){return r(t-1)}},o.a.createElement(b.h,{icon:b.c})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement(N.b,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"sample-canvas"},o.a.createElement(N.f,null,o.a.createElement("hemisphericLight",{name:"hemi-light",intensity:.7,direction:y.A.Up()}),o.a.createElement(N.g,{rootUrl:Z[Math.abs(t)%Z.length].texture}),o.a.createElement("arcRotateCamera",{target:y.A.Zero(),radius:10,alpha:-Math.PI/2,beta:Math.PI/2,minZ:.001,wheelPrecision:50}),o.a.createElement("gui3DManager",{name:"gui3d"},o.a.createElement("cylinderPanel",{name:"panel",margin:.2},Array.from(new Array(50),(function(e,a){return a})).map((function(e){return o.a.createElement("holographicButton",{key:"btn-".concat(e),name:"btn-name-".concat(e),text:"btn-text-".concat(e),onPointerClickObservable:function(){return r(Y+1)}})}))))))),o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement("pre",null,o.a.createElement(M.PrismCode,{className:"language-jsx"},'<Scene id="sample-canvas">\n<HemisphericLight name="light1" intensity={0.7} direction={Vector3.Up()} />\n<Skybox texture={activeSkybox.texture} />\n<arcRotateCamera target={ Vector3.Zero() } radius={10}\nalpha={-Math.PI / 4} beta={(Math.PI / 2)}\n/>\n<gui3DManager name="gui3d">\n<cylinderPanel name="panel" margin={0.2}>\n  {\n    Array.from(new Array(60), (_, index) => index).map(number => {\n      return (\n        <holographicButton\n          key={`btn-${number}`}\n          name={`btn-name-${number}`}\n          text={`btn-text-${number}`}\n          onClick={this.next}\n        />\n      )\n    })\n  }\n</cylinderPanel>\n</gui3DManager>\n</Scene>')))))},K=t(83),$=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){var e;return Object(m.a)(this,t),(e=a.call(this)).state={plane:void 0,showModal:!1,clickMeshName:void 0,allowedMeshes:["red box","blue box","green box"],sceneClearColor:new y.h(.5,.5,.5,.5)},e.meshPicked=e.meshPicked.bind(Object(F.a)(e)),e.setPlane=e.setPlane.bind(Object(F.a)(e)),e}return Object(d.a)(t,[{key:"meshPicked",value:function(e){if(-1!==this.state.allowedMeshes.indexOf(e.name)){var a,t,n=e.name;switch(n){case"red box":a=y.g.Red().toHexString(),t=new y.h(1,0,0,.5);break;case"blue box":a=y.g.Blue().toHexString(),t=new y.h(0,0,1,.5);break;case"green box":default:a=y.g.Green().toHexString(),t=new y.h(0,1,0,.5)}this.setState((function(e){return Object(f.a)({},e,{showModal:!0,clickedMeshName:n,clickedMeshColor:a,sceneClearColor:t})}))}else console.log("ignoring clicks on:",e.name,this.state)}},{key:"deleteSelectedMesh",value:function(){this.state.plane._scene.getMeshByName(this.state.clickedMeshName).dispose(),this.setState((function(e){return Object(f.a)({},e,{sceneClearColor:new y.h(.5,.5,.5,.5),allowedMeshes:e.allowedMeshes.filter((function(a){return a!==e.clickedMeshName}))})})),this.hideModal()}},{key:"hideModal",value:function(){var e=this,a=this.state.plane;if(a){var t=[];t.push({frame:0,value:1}),t.push({frame:10,value:0});var n=new y.c("tv-off-1984","scaling.x",10,y.c.ANIMATIONTYPE_FLOAT,y.c.ANIMATIONLOOPMODE_CONSTANT);n.setKeys(t);var o=new y.n(9.7);o.setEasingMode(y.l.EASINGMODE_EASEINOUT),n.setEasingFunction(o),a.animations.push(n),a._scene.beginAnimation(a,0,100,!1,1,(function(){a.dispose(),e.setState((function(e){return Object(f.a)({},e,{showModal:!1,plane:void 0,sceneClearColor:new y.h(.5,.5,.5,.5)})}))}))}}},{key:"setPlane",value:function(e){if(this.setState((function(a){return Object(f.a)({},a,{plane:e})})),e._scene&&e._scene.activeCamera){var a=e._scene.activeCamera;window.setTimeout((function(){var t=a.getForwardRay().direction;e.position=a.position.add(t.scale(1.5/a.fov)),e.lookAt(a.position,0,Math.PI,Math.PI)}),10)}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-6 col-lg-6 align-top"},"Click on boxes to open UI for deleting them.",o.a.createElement("br",null),"Close dialog with ",o.a.createElement("span",{style:{fontFamily:"FontAwesome"}},"\uf00d")," or Cancel/Delete button."),o.a.createElement("div",{className:"col-xs-6 col-lg-6 align-top"},"How the GUI declared ",o.a.createElement("span",{className:"text-muted"},"(see github repo for full source)"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-12"},o.a.createElement(N.b,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"sample-canvas"},o.a.createElement(N.f,{clearColor:this.state.sceneClearColor,onMeshPicked:this.meshPicked},o.a.createElement("arcRotateCamera",{name:"camera1",radius:7,beta:Math.PI/4,alpha:Math.PI/2,target:y.A.Zero(),minZ:.001,wheelPrecision:30,onViewMatrixChangedObservable:function(a){var t=e.state.plane;if(t){var n=a.getForwardRay();t.position=a.position.clone().add(n.direction.scale(1.5/a.fov)),t.lookAt(a.position,0,Math.PI,Math.PI)}}}),o.a.createElement("hemisphericLight",{name:"light1",intensity:.7,direction:y.A.Up()}),o.a.createElement("box",{size:2,name:"red box",position:new y.A(-2.5,1,0)},o.a.createElement("standardMaterial",{name:"red-mat",diffuseColor:y.g.Red(),specularColor:y.g.Black()})),o.a.createElement("box",{size:2,name:"blue box",position:new y.A(0,1,0)},o.a.createElement("standardMaterial",{diffuseColor:y.g.Blue(),specularColor:y.g.Black()})),o.a.createElement("box",{size:2,name:"green box",position:new y.A(2.5,1,0)},o.a.createElement("standardMaterial",{diffuseColor:y.g.Green(),specularColor:y.g.Black()})),!0===this.state.showModal&&o.a.createElement("plane",{name:"dialog",width:3,height:1,onCreated:this.setPlane,rotation:new y.A(0,Math.PI,0)},o.a.createElement("advancedDynamicTexture",{name:"dialogTexture",height:1024,width:1024,createForParentMesh:!0},o.a.createElement("rectangle",{name:"rect-1",background:"white",color:"#666666",height:1/3,width:1,scaleY:3,scaleX:1,thickness:2,cornerRadius:12},o.a.createElement("stackPanel",{name:"sp-1"},o.a.createElement("rectangle",{name:"header-rectangle",height:"70px",verticalAlignment:K.b.HORIZONTAL_ALIGNMENT_CENTER,horizontalAlignment:K.b.HORIZONTAL_ALIGNMENT_LEFT},o.a.createElement("stackPanel",{name:"header-stack-panel",isVertical:!1,width:"100%"},o.a.createElement("textBlock",{name:"selection-made",text:"Selection Made",color:"black",fontSize:28,fontStyle:"bold",paddingLeft:"20px",textHorizontalAlignment:K.b.HORIZONTAL_ALIGNMENT_LEFT,textVerticalAlignment:K.b.VERTICAL_ALIGNMENT_CENTER}),o.a.createElement("babylon-button",{name:"close-icon",width:"1000px",paddingLeft:"950px",height:"80px",onPointerDownObservable:this.hideModal.bind(this)},o.a.createElement("textBlock",{text:"\uf00d",fontFamily:"FontAwesome",fontStyle:"bold",fontSize:24,color:"black",textHorizontalAlignment:K.b.HORIZONTAL_ALIGNMENT_RIGHT,textVerticalAlignment:K.b.VERTICAL_ALIGNMENT_CENTER})))),o.a.createElement("rectangle",{name:"body-rectangle",height:"200px",thickness:2,color:"#EEEEEE"},o.a.createElement("stackPanel",{name:"sp-3"},o.a.createElement("textBlock",{name:"description",key:"body-".concat(this.state.clickedMeshName),text:"You have clicked on '".concat(this.state.clickedMeshName,"' .\n....").concat(this.state.allowedMeshes.length," remaining..."),color:"black",fontSize:28,textWrapping:!0,height:"100px",textHorizontalAlignment:K.b.HORIZONTAL_ALIGNMENT_LEFT,textVerticalAlignment:K.b.VERTICAL_ALIGNMENT_TOP,paddingLeft:"10px",paddingTop:"10px"}),this.state.allowedMeshes.map((function(a){return o.a.createElement("textBlock",{key:"opt--".concat(e.state.clickedMeshName,"-").concat(a),text:"\u2022 "+a,color:"black",fontSize:28,height:"".concat(90/e.state.allowedMeshes.length,"px"),textHorizontalAlignment:K.b.HORIZONTAL_ALIGNMENT_LEFT,textVerticalAlignment:K.b.VERTICAL_ALIGNMENT_TOP,paddingLeft:"20px"})})))),o.a.createElement("stackPanel",{name:"footer-sp",height:"80px",paddingTop:"10px",paddingBottom:"10px",isVertical:!1,horizontalAlignment:K.b.HORIZONTAL_ALIGNMENT_RIGHT,verticalAlignment:K.b.VERTICAL_ALIGNMENT_TOP},o.a.createElement("babylon-button",{name:"cancel-button",background:"#6c757d",width:"290px",height:"60px",cornerRadius:10,onPointerDownObservable:this.hideModal.bind(this)},o.a.createElement("textBlock",{name:"cancel-text",text:"Cancel",fontSize:28,fontStyle:"bold",color:"white"})),o.a.createElement("babylon-button",{name:"delete-button",background:this.state.clickedMeshColor,paddingLeft:"50px",paddingRight:"30px",width:"350px",height:"60px",cornerRadius:10,onPointerDownObservable:this.deleteSelectedMesh.bind(this)},o.a.createElement("textBlock",{name:"cancel-text",text:"Delete '".concat(this.state.clickedMeshName,"'"),fontSize:28,fontStyle:"bold",color:"white",textVerticalAlignment:K.b.VERTICAL_ALIGNMENT_CENTER}))))))),o.a.createElement("vrExperienceHelper",{webVROptions:{createDeviceOrientationCamera:!1},enableInteractions:!0}))))))}}]),t}(n.Component);function J(e){console.log("mesh picked:",e)}function q(e){var a=e.canvas,t=e.scene;t.clearColor=new y.g(.5,.5,.5);var n=new y.o("camera1",new y.A(0,.3,-.7),t);n.speed=.01,n.minZ=.001,t.activeCameras.push(n),n.attachControl(a,!0),new y.p("light1",new y.A(0,1,0),t).intensity=.7;var o=new y.s("pbr",t);o.environmentTexture=y.i.CreateFromPrefilteredData("textures/environment.dds",t);for(var r=0;r<4;r++)for(var c=0;c<10;c++){var l=o.clone();l.metallic=.1,l.roughness=r/4/3,l.baseColor=y.g.White().scale(1-c/10);var i=y.r.CreateSphere("sphere",16,.2,t);i.material=l,i.position.y=.3*r,i.position.x=.3,i.position.z=.4*c;var s=o.clone();s.metallic=.6,s.roughness=r/4/3,s.baseColor=y.g.White().scale(1-c/10);var m=y.r.CreateBox("box",.2,t);m.material=s,m.position.y=.3*r,m.position.x=-.3,m.position.z=.4*c}var d=y.r.CreateTorusKnot("knot",.2,.05,128,64,2,3,t);d.material=o,d.position.set(0,.3,8);var p=new y.j("default",!0,t,[t.activeCamera]);p.depthOfFieldBlurLevel=y.k.Medium,p.depthOfFieldEnabled=!0,p.depthOfField.focalLength=180,p.depthOfField.fStop=3,p.depthOfField.focusDistance=2250;var h=!0,u=new y.d("BGCamera",Math.PI/2+Math.PI/7,Math.PI/2,100,new y.A(0,20,0),t);u.layerMask=268435456;var g=K.a.CreateFullscreenUI("UI");g.layer.layerMask=268435456;var b=new K.d;b.width="220px",b.fontSize="14px",b.horizontalAlignment=K.b.HORIZONTAL_ALIGNMENT_RIGHT,b.verticalAlignment=K.b.VERTICAL_ALIGNMENT_CENTER,g.addControl(b);[{name:"fStop",min:1.4,max:32},{name:"focusDistance",min:0,max:5e3},{name:"focalLength",min:0,max:500}].forEach((function(e){var a=new K.e;a.text=e.name+":"+p.depthOfField[e.name].toFixed(2),a.height="40px",a.color="black",a.textHorizontalAlignment=K.b.HORIZONTAL_ALIGNMENT_LEFT,a.paddingTop="10px",b.addControl(a);var t=new K.c;t.horizontalAlignment=K.b.HORIZONTAL_ALIGNMENT_LEFT,t.minimum=e.min,t.maximum=e.max,t.color="#636e72",t.value=p.depthOfField[e.name],t.height="20px",t.width="205px",b.addControl(t),t.onValueChangedObservable.add((function(t){p.depthOfField[e.name]=t,a.text=e.name+":"+p.depthOfField[e.name].toFixed(2),h=!1}))})),t.activeCameras=[t.activeCamera,u],t.onBeforeRenderObservable.add((function(){h&&(p.depthOfField.focusDistance=600+4e3*(Math.sin((new Date).getTime()/1e3)+1)/2)})),t.getEngine().runRenderLoop((function(){t&&t.render()}))}var X=function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-lg-12 align-top"},'You can mix declarative with non-declarative.  This example just copies the "Depth of Field" sample playground from the ',o.a.createElement("a",{href:"https://doc.babylonjs.com/how_to/using_default_rendering_pipeline",target:"_new"},"default rendering pipeline documentation"),".")),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement(N.b,{antialias:!0,adaptToDeviceRatio:!0,canvasId:"sample-canvas"},o.a.createElement(N.f,{onMeshPicked:J,onSceneMount:q}))),o.a.createElement("div",{className:"col-xs-12 col-md-6"},o.a.createElement("pre",null,o.a.createElement(M.PrismCode,{className:"language-jsx"},"// If you import Scene from '@babylonjs/core' then make sure to alias one of them.\nimport React, { Component } from 'react'\nimport { Scene } from 'react-babylonjs'\nimport { Vector3, ArcRotateCamera, ... } from '@babylonjs/core';\n\nfunction onSceneMount(e) {\n  const { canvas, scene } = e\n\n  // Your code here (ie: playground code could go here)...  \n  scene.getEngine().runRenderLoop(() => {\n      if (scene) {\n          scene.render();\n      }\n  });\n}\n\nfunction NonDeclarative() {\n  return (\n    <Engine canvasId=\"sample-canvas\">\n      <Scene onSceneMount={onSceneMount} />\n    </Engine>\n  );\n}")))))},Q=function(){return o.a.createElement("div",null,o.a.createElement("p",null,"There are examples for Virtual Reality, 3D models, 3D UI controls, Skybox and mesh creations using BabylonJS on WebGL running in a React App."),o.a.createElement("p",null,o.a.createElement("strong",null,"react-babylonjs")," is a react renderer using Fiber and has large API coverage by using code generation."),o.a.createElement("p",null,"Interesting part is the UI 2D, where a WebGL texture is dynamically updating from props - best experienced in VR mode :)"),o.a.createElement("p",null,"Also, full HMR experience with browser udpating as you update your application in the editor.",o.a.createElement("img",{src:"https://raw.githubusercontent.com/brianzinn/react-babylonjs/master/media/react-babylonjs-hmr.gif",width:"90%",alt:"React BabylonJS HMR"})),o.a.createElement("p",{className:"text-muted small"},"More coming soon..."))},ee=n.createElement(k,{sidebarCollapsed:!1},n.createElement(s.c,null,n.createElement(s.a,{exact:!0,path:"".concat("/create-react-app-babylonjs","/"),component:Q}),n.createElement(s.a,{path:"".concat("/create-react-app-babylonjs","/defaultPlayground"),component:A}),n.createElement(s.a,{path:"".concat("/create-react-app-babylonjs","/dragNdrop"),component:T}),n.createElement(s.a,{path:"".concat("/create-react-app-babylonjs","/withProps"),component:B}),n.createElement(s.a,{path:"".concat("/create-react-app-babylonjs","/withModel"),component:z}),n.createElement(s.a,{path:"".concat("/create-react-app-babylonjs","/withVR"),component:H}),n.createElement(s.a,{path:"".concat("/create-react-app-babylonjs","/withSkybox"),component:W}),n.createElement(s.a,{path:"".concat("/create-react-app-babylonjs","/with2DUI"),component:$}),n.createElement(s.a,{path:"".concat("/create-react-app-babylonjs","/nonDeclarative"),component:X}))),ae=function(e){var a=e.history;return o.a.createElement(i.a,{history:a,children:ee})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=t(201),ne=t(134),oe=t(430),re=function(e){return Object(te.c)({router:Object(i.b)(e),withProps:I,layout:x})},ce=Object(ne.a)();var le=Object(te.e)(re(ce),Object(te.d)(Object(te.a)(Object(oe.a)(ce))));t(453);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(l.a,{store:le},o.a.createElement(ae,{history:ce}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[436,1,2]]]);
//# sourceMappingURL=main.8f851c38.chunk.js.map